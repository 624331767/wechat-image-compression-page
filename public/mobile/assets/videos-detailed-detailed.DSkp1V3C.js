var t,e;import{o as a,c as l,w as s,g as i,b as o,h as d,B as n,r,d as c,e as u,n as f,a as g,t as h,x as v,i as _,v as p,C as y,f as b,l as m,F as C,D as x,E as k}from"./index-DEuiSkXJ.js";import{_ as I,m as S,a as $,r as B,b as w,c as D,t as L}from"./api.CKQr3jN5.js";const q=I({name:"uv-status-bar",mixins:[S,$,{props:{bgColor:{type:String,default:"transparent"}}}],data:()=>({}),computed:{style(){const t={};return t.height=this.$uv.addUnit(this.$uv.sys().statusBarHeight,"px"),this.bgColor&&(this.bgColor.indexOf("gradient")>-1?t.backgroundImage=this.bgColor:t.background=this.bgColor),this.$uv.deepMerge(t,this.$uv.addStyle(this.customStyle))}}},[["render",function(t,e,n,r,c,u){const f=d;return a(),l(f,{style:o([u.style]),class:"uv-status-bar"},{default:s((()=>[i(t.$slots,"default",{},void 0,!0)])),_:3},8,["style"])}],["__scopeId","data-v-c48287dc"]]);const T=I({name:"uv-navbar",mixins:[S,$,{props:{safeAreaInsetTop:{type:Boolean,default:!0},placeholder:{type:Boolean,default:!1},fixed:{type:Boolean,default:!0},border:{type:Boolean,default:!1},leftIcon:{type:String,default:"arrow-left"},leftText:{type:String,default:""},rightText:{type:String,default:""},rightIcon:{type:String,default:""},title:{type:[String,Number],default:""},bgColor:{type:String,default:"#ffffff"},imgMode:{type:String,default:"aspectFill"},titleWidth:{type:[String,Number],default:"400rpx"},height:{type:[String,Number],default:"44px"},leftIconSize:{type:[String,Number],default:20},leftIconColor:{type:String,default:"#303133"},autoBack:{type:Boolean,default:!1},titleStyle:{type:[String,Object],default:""},...null==(e=null==(t=uni.$uv)?void 0:t.props)?void 0:e.navbar}}],data:()=>({}),computed:{getBgColor(){const t={};return this.bgColor&&(this.bgColor.indexOf("gradient")>-1?t.backgroundImage=this.bgColor:this.isImg?t.background="transparent":t.background=this.bgColor),t},getStatusbgColor(){if(this.bgColor)return this.isImg?"transparent":this.bgColor},isImg(){const t=this.bgColor.indexOf("data:")>-1&&this.bgColor.indexOf("base64")>-1;return-1!==this.bgColor.indexOf("/")||t},bgImgStyle(){const t={};return this.safeAreaInsetTop?t.height=this.$uv.addUnit(this.$uv.sys().statusBarHeight+44,"px"):t.height="44px",t}},methods:{leftClick(){this.$emit("leftClick"),this.autoBack&&n()},rightClick(){this.$emit("rightClick")}}},[["render",function(t,e,n,p,y,b){const m=d,C=v,x=B(r("uv-status-bar"),q),k=B(r("uv-icon"),w),I=_;return a(),l(m,{class:"uv-navbar"},{default:s((()=>[t.fixed&&t.placeholder?(a(),l(m,{key:0,class:"uv-navbar__placeholder",style:o({height:t.$uv.addUnit(t.$uv.getPx(t.height)+t.$uv.sys().statusBarHeight,"px")})},null,8,["style"])):c("",!0),u(m,{class:f([t.fixed&&"uv-navbar--fixed"])},{default:s((()=>[b.isImg?(a(),l(C,{key:0,class:"uv-navbar--bgimg",src:t.bgColor,mode:t.imgMode,style:o([b.bgImgStyle])},null,8,["src","mode","style"])):c("",!0),t.safeAreaInsetTop?(a(),l(x,{key:1,bgColor:b.getStatusbgColor},null,8,["bgColor"])):c("",!0),u(m,{class:f(["uv-navbar__content",[t.border&&"uv-border-bottom"]]),style:o([{height:t.$uv.addUnit(t.height)},b.getBgColor])},{default:s((()=>[u(m,{class:"uv-navbar__content__left","hover-class":"uv-navbar__content__left--hover","hover-start-time":"150",onClick:b.leftClick},{default:s((()=>[i(t.$slots,"left",{},(()=>[t.leftIcon?(a(),l(k,{key:0,name:t.leftIcon,size:t.leftIconSize,color:t.leftIconColor},null,8,["name","size","color"])):c("",!0),t.leftText?(a(),l(I,{key:1,style:o({color:t.leftIconColor}),class:"uv-navbar__content__left__text"},{default:s((()=>[g(h(t.leftText),1)])),_:1},8,["style"])):c("",!0)]),!0)])),_:3},8,["onClick"]),i(t.$slots,"center",{},(()=>[u(I,{class:"uv-line-1 uv-navbar__content__title",style:o([{width:t.$uv.addUnit(t.titleWidth),flex:"0 1 auto"},t.$uv.addStyle(t.titleStyle)])},{default:s((()=>[g(h(t.title),1)])),_:1},8,["style"])]),!0),u(m,{class:"uv-navbar__content__right",onClick:b.rightClick},{default:s((()=>[i(t.$slots,"right",{},(()=>[t.rightIcon?(a(),l(k,{key:0,name:t.rightIcon,size:"20"},null,8,["name"])):c("",!0),t.rightText?(a(),l(I,{key:1,class:"uv-navbar__content__right__text"},{default:s((()=>[g(h(t.rightText),1)])),_:1})):c("",!0)]),!0)])),_:3},8,["onClick"])])),_:3},8,["class","style"])])),_:3},8,["class"])])),_:3})}],["__scopeId","data-v-7b22089e"]]);const E=I({data:()=>({quality:{src:"",poster:"",title:"",view_count:128.5,created_at:"2025-10-27",description:" 本视频带您穿越全球最令人惊叹的自然景观，从雄伟的山脉到广袤的森林，从清澈的湖泊到壮观的瀑布。我们将近距离接触各种珍稀野生动物，见证大自然的神奇与美丽。这段旅程不仅是一次视觉的盛宴，更是一次心灵的洗礼。希望通过这段视频，能够唤起大家对自然环境保护的重视，共同守护我们美丽的地球家园。",autoplay:!0,muted:!0},isDescExpanded:!1,listBid:[],relatedVideoList:[]}),onLoad(t){console.log(t,"option"),this.initList(),this.initListGetid(),this.getvideosList(t.id)},methods:{leftClickRouter(){p({url:"../../pages/main/main"})},async initList(){const t=await D.videos.getRecommend({count:4});this.relatedVideoList=t.data.map((t=>({...t,created_at:L(t.created_at)})))},async initListGetid(){const t=await D.home.getHomeData();this.listBid=t.data},async getvideosList(t){const e=await D.videos.getVideoDetail(t);this.quality.src=e.data.video_url,this.quality.title=e.data.title,this.quality.view_count=e.data.view_count,this.quality.created_at=L(e.data.created_at),this.quality.poster=e.data.cover_url,this.quality.description=e.data.description,console.log(e,"result")},goBack(){n({delta:1})},toggleDescription(){this.isDescExpanded=!this.isDescExpanded},goToVideoDetail(t){console.log(t),this.getvideosList(t.id)}},onUnload(){}},[["render",function(t,e,i,o,n,c){const p=B(r("uv-navbar"),T),I=d,S=x,$=_,w=k,D=v;return a(),l(I,{class:"video-detail-page"},{default:s((()=>[u(I,null,{default:s((()=>[u(p,{title:"视频播放",safeAreaInsetTop:"",placeholder:"",fixed:"",onLeftClick:c.leftClickRouter},null,8,["onLeftClick"])])),_:1}),u(I,null,{default:s((()=>[u(S,{src:n.quality.src,style:{width:"100%",height:"250px"}},null,8,["src"])])),_:1}),u(I,{class:"video-info"},{default:s((()=>[u(I,{class:"video-title"},{default:s((()=>[g(h(n.quality.title),1)])),_:1}),u(I,{class:"video-stats"},{default:s((()=>[u(I,{class:"stats-left"},{default:s((()=>[u(I,{class:"play-count"},{default:s((()=>[y("i",{class:"fa fa-eye"}),u($,null,{default:s((()=>[g(h(n.quality.view_count)+" 次播放",1)])),_:1})])),_:1}),u(I,{class:"publish-time"},{default:s((()=>[g(h(n.quality.created_at)+" 发布",1)])),_:1})])),_:1})])),_:1}),u(I,{class:"divider"}),u(I,{class:"video-description"},{default:s((()=>[u(I,{class:"desc-title"},{default:s((()=>[g("视频描述")])),_:1}),u(I,{class:f(["desc-content",{"desc-expanded":n.isDescExpanded}])},{default:s((()=>[g(h(n.quality.description),1)])),_:1},8,["class"]),u(w,{class:"toggle-desc-btn",onClick:c.toggleDescription},{default:s((()=>[u($,null,{default:s((()=>[g(h(n.isDescExpanded?"收起":"展开更多"),1)])),_:1}),y("i",{class:f(["fa",n.isDescExpanded?"fa-chevron-up":"fa-chevron-down"])},null,2)])),_:1},8,["onClick"])])),_:1}),u(I,{class:"related-videos"},{default:s((()=>[u(I,{class:"related-title"},{default:s((()=>[g("相关推荐视频")])),_:1}),u(I,{class:"related-list"},{default:s((()=>[(a(!0),b(C,null,m(n.relatedVideoList,((t,e)=>(a(),l(I,{class:"related-item",key:t.id,onClick:e=>c.goToVideoDetail(t)},{default:s((()=>[u(I,{class:"related-video-container"},{default:s((()=>[u(D,{src:t.cover_url,class:"related-video-cover",mode:"aspectFill"},null,8,["src"]),u(I,{class:"related-video-duration"},{default:s((()=>[g(h(t.duration),1)])),_:2},1024)])),_:2},1024),u(I,{class:"related-video-info"},{default:s((()=>[u(I,{class:"related-video-title"},{default:s((()=>[g(h(t.title),1)])),_:2},1024),u(I,{class:"related-video-playcount"},{default:s((()=>[g(h(t.view_count)+" 次播放",1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-e5a1da1f"]]);export{E as default};
